<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Employee Data</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
	<script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>



</head>
<body>


<div class="container">
	<div class="jumbotron" >
		<h1 class="text-center">Employee Data</h1>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title"><strong>Current Employees</strong></h3>
				</div>
				<div class="panel-body">
					<table class="table table-hover" id='employeeTable'>
						<thead>
							<tr>
								<th>Employee Name</th>
								<th>Role</th>
								<th> Start Date</th>
								<th>Months Worked</th>
								<th>Monthly Rate($)</th>
								<th>Total Billed($)</th>								
							</tr>
						</thead>
						<tbody id="employeeTable">
							
						</tbody>
					</table>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title"><strong>Add Employee</strong></h3>
				</div>
				<div class="panel-body">
				<form>
					<div class="form-group">
						<label for="">Employee Name</label>
						<input type="text" class="form-control" id="nameInput">
					</div>
					<div class="form-group">
						<label for="">Role</label>
						<input type="text" class="form-control" id="roleInput">
					</div>
					<div class="form-group">
						<label for="">Start Date (DD/MM/YYYY)</label>
						<input type="text" class="form-control" id="startDateInput">
					</div>
					<div class="form-group">
						<label for="">Monthly Rate</label>
						<input type="text" class="form-control" id="monthlyRateInput">
					</div>
					<button type="submit" class="btn btn-primary" id="addEmployeeBtn">Submit</button>

				</form>
				</div>
			</div>

		</div>
	</div>
</div>



<script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>
<script>

  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAO1DO_7PMGavFOdwsfgMMp1b_ykMggO98",
    authDomain: "meme-employees.firebaseapp.com",
    databaseURL: "https://meme-employees.firebaseio.com",
    storageBucket: "",
    messagingSenderId: "593456157152"
  };

  firebase.initializeApp(config);

	var database = firebase.database();


$("#addEmployeeBtn").on("click", function(){
	var employeeName = $("#nameInput").val();
	var employeeRole = $("#roleInput").val();
	var startDate = $("startDateInput").val();
	var monthlyRate = $("#monthlyRateInput").val();

	database.ref().push({
		name:  employeeName,
		role: employeeRole,
		startDate: startDate,
		monthlyRate: monthlyRate

	})

	console.log(employee.name);
	console.log(employee.role);
	console.log(employee.startDate);
	console.log(employee.monthlyRate);

    $("#nameInput").val("");
    $("#roleInput").val("");
    $("#startDateInput").val("");
    $("#monthlyRateInput").val("");


return false;
});


// database.ref().on("child_added", function(childSnapshot) {

// 		$('#employeeTable').append( $('<tr class="tableRemove '+ childSnapshot.val().name + '"></tr>'));

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">' + childSnapshot.val().name + '</td>');

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">' + childSnapshot.val().role + '</td>');

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">' + childSnapshot.val().startDate+ '</td>');

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">'+"Something"+'</td>');

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">' + childSnapshot.val().monthlyRate + '</td>');

// 		$('.' + childSnapshot.val().name).append('<td class="tableRemove">'+"Dunno"+'</td>');

// 	}, function(errorObject) {

// 	console.log("Errors handled: " + errorObject.code);
// 	});


// database.ref().orderByChild("dateAdded").limitToLast(1).on("child_added", function(snapshot){
//     // Change the HTML to reflect
//     $("#namedisplay").html(snapshot.val().name);
//     $("#emaildisplay").html(snapshot.val().role);
//     $("#agedisplay").html(snapshot.val().startDate);
//     $("#commentdisplay").html(snapshot.val().monthlyRate);
// });










</script>



</body>
</html>